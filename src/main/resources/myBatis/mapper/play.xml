<?xml version="1.0" encoding="UTF-8"?>
<!-- mybatis map 선언 표시 -->
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
              "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.pknu.pass.play.dao.PlayDao">
	
	
<!-- 	<select id="getPoster" resultType="String"> -->
<!-- 		select filename -->
<!--           from image e, concert a -->
<!--           where e.mt20id = a.mt20id  and e.imagetype = 1 -->
<!-- 	</select> -->
	
	<select id="getPoster" resultType="predto">
		select imageUrl, genrenm, prfnm, prfpdfrom, prfpdto, fcltynm, a.mt20id
          from image e, concert a
          where e.mt20id = a.mt20id  and e.imagetype = 1 and a.prfpdfrom > sysdate
	</select>
	
	
	<select id="getChange"  parameterType="String" resultType="predto">
		select imageUrl, genrenm, prfnm, prfpdfrom, prfpdto, fcltynm, a.mt20id
          from image e, concert a
          where e.mt20id = a.mt20id and a.genrenm=#{pType} and e.imagetype = 1 and a.prfpdfrom > sysdate
	</select>
	
<!-- 	<select id="getChange"  parameterType="String" resultType="predto"> -->
<!-- 	SELECT * -->
<!--       from(SELECT rownum rum, human.* -->
<!--       FROM (select imageUrl, genrenm, prfnm, prfpdfrom, prfpdto, fcltynm -->
<!--           from image e, concert a -->
<!--           where e.mt20id = a.mt20id and e.imagetype = 1 and a.prfpdfrom > sysdate -->
<!--           order by prfpdfrom asc) human ) -->
<!--           where rum BETWEEN ? and ? -->
<!-- 	</select> -->


<!-- <select id="getCounts"  resultType="int"> -->
<!--      select count(*) -->
<!--           from image e, concert a -->
<!--           where e.mt20id = a.mt20id and e.imagetype = 1 and a.prfpdfrom > sysdate -->
	<!-- 	</select> -->
	 
</mapper>
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
